# ------------------------------ bash completion -----------------------------

IFS=$'\n'
functions=()
for f in $(declare -F); do
  functions+=( $f )
done
declare -a COMMANDS="${functions[@]//declare -f _}"
if [[ -n $COMP_LINE ]]; then

    for c in "${COMMANDS[@]}"; do
        [[ ${c:0:${#2}} == "${2,,}" ]] && echo "$c"
    done
fi

